var sortableDecorator=function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive-decorators-sortable plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;return b=function(a){return a.draggable=!0,a.addEventListener("dragstart",g,!1),a.addEventListener("dragenter",h,!1),a.addEventListener("dragleave",i,!1),a.addEventListener("drop",i,!1),a.addEventListener("dragover",j,!1),{teardown:function(){a.removeEventListener("dragstart",g,!1),a.removeEventListener("dragenter",h,!1),a.removeEventListener("dragleave",i,!1),a.removeEventListener("drop",i,!1),a.removeEventListener("dragover",j,!1)}}},b.targetClass="droptarget",k="The sortable decorator only works with elements that correspond to array members",g=function(a){var b,g=this._ractive;if(d=g.keypath.str,b=d.lastIndexOf("."),-1===b)throw new Error(k);if(e=d.substr(0,b),f=+d.substring(b+1),isNaN(f))throw new Error(k);a.dataTransfer.setData("foo",!0),c=g.root},h=function(){var a,d,g,h,i,j;if(this._ractive.root===c){if(a=this._ractive.keypath.str,d=a.lastIndexOf("."),-1===d)throw new Error(k);g=a.substr(0,d),h=+a.substring(d+1),g===e&&(this.classList.add(b.targetClass),h!==f&&(i=c.get(e).slice(),j=i.splice(f,1)[0],f=h,i.splice(f,0,j),c.set(e,i)))}},i=function(){this.classList.remove(b.targetClass)},j=function(a){a.preventDefault()},a.decorators.sortable=b,b});"undefined"!=typeof module&&module.exports&&(module.exports=sortableDecorator);